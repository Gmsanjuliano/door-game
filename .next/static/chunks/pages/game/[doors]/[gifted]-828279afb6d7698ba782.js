(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{2167:function(e,n,t){"use strict";var r=t(3038);n.default=void 0;var o,i=(o=t(7294))&&o.__esModule?o:{default:o},a=t(1063),s=t(4651),u=t(7426);var c={};function l(e,n,t,r){if(e&&a.isLocalURL(n)){e.prefetch(n,t,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;c[n+"%"+t+(o?"%"+o:"")]=!0}}var f=function(e){var n,t=!1!==e.prefetch,o=s.useRouter(),f=i.default.useMemo((function(){var n=a.resolveHref(o,e.href,!0),t=r(n,2),i=t[0],s=t[1];return{href:i,as:e.as?a.resolveHref(o,e.as):s||i}}),[o,e.href,e.as]),d=f.href,v=f.as,h=e.children,p=e.replace,_=e.shallow,m=e.scroll,g=e.locale;"string"===typeof h&&(h=i.default.createElement("a",null,h));var y=(n=i.default.Children.only(h))&&"object"===typeof n&&n.ref,b=u.useIntersection({rootMargin:"200px"}),k=r(b,2),w=k[0],x=k[1],j=i.default.useCallback((function(e){w(e),y&&("function"===typeof y?y(e):"object"===typeof y&&(y.current=e))}),[y,w]);i.default.useEffect((function(){var e=x&&t&&a.isLocalURL(d),n="undefined"!==typeof g?g:o&&o.locale,r=c[d+"%"+v+(n?"%"+n:"")];e&&!r&&l(o,d,v,{locale:n})}),[v,d,x,g,t,o]);var N={ref:j,onClick:function(e){n.props&&"function"===typeof n.props.onClick&&n.props.onClick(e),e.defaultPrevented||function(e,n,t,r,o,i,s,u){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&a.isLocalURL(t))&&(e.preventDefault(),null==s&&r.indexOf("#")>=0&&(s=!1),n[o?"replace":"push"](t,r,{shallow:i,locale:u,scroll:s}))}(e,o,d,v,p,_,m,g)},onMouseEnter:function(e){a.isLocalURL(d)&&(n.props&&"function"===typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),l(o,d,v,{priority:!0}))}};if(e.passHref||"a"===n.type&&!("href"in n.props)){var E="undefined"!==typeof g?g:o&&o.locale,C=o&&o.isLocaleDomain&&a.getDomainLocale(v,E,o&&o.locales,o&&o.domainLocales);N.href=C||a.addBasePath(a.addLocale(v,E,o&&o.defaultLocale))}return i.default.cloneElement(n,N)};n.default=f},7426:function(e,n,t){"use strict";var r=t(3038);Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!a,u=o.useRef(),c=o.useState(!1),l=r(c,2),f=l[0],d=l[1],v=o.useCallback((function(e){u.current&&(u.current(),u.current=void 0),t||f||e&&e.tagName&&(u.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=s.get(n);if(t)return t;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return s.set(n,t={id:n,observer:o,elements:r}),t}(t),o=r.id,i=r.observer,a=r.elements;return a.set(e,n),i.observe(e),function(){a.delete(e),i.unobserve(e),0===a.size&&(i.disconnect(),s.delete(o))}}(e,(function(e){return e&&d(e)}),{rootMargin:n}))}),[t,n,f]);return o.useEffect((function(){if(!a&&!f){var e=i.requestIdleCallback((function(){return d(!0)}));return function(){return i.cancelIdleCallback(e)}}}),[f]),[v,f]};var o=t(7294),i=t(3447),a="undefined"!==typeof IntersectionObserver;var s=new Map},1972:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var r=t(7294),o=t(7424),i=t.n(o),a=t(5662),s=t.n(a),u=t(5893);function c(){return(0,u.jsxs)("div",{className:s().gift,children:[(0,u.jsx)("div",{className:s().top}),(0,u.jsx)("div",{className:s().middle}),(0,u.jsx)("div",{className:s().line1}),(0,u.jsx)("div",{className:s().line2})]})}function l(e){var n=e.value,t=n.selected&&!n.opened?i().selected:"",r=function(t){t.stopPropagation(),e.onChange(n.open())};return(0,u.jsxs)("div",{className:i().area,onClick:function(t){return e.onChange(n.alterSelection())},children:[(0,u.jsx)("div",{className:"".concat(i().frame," ").concat(t),children:n.closed?(0,u.jsxs)("div",{className:i().door,children:[(0,u.jsx)("div",{className:i().numero,children:n.number}),(0,u.jsx)("div",{className:i().knob,onClick:r})]}):!!n.gifted&&(0,u.jsx)(c,{})}),(0,u.jsx)("div",{className:i().ground})]})}function f(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function h(e,n){return function(e,n){return n.get?n.get.call(e):n.value}(e,v(e,n,"get"))}function p(e,n,t){return function(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}(e,v(e,n,"set"),t),t}var _=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,b=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];f(this,e),_.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),p(this,_,n),p(this,m,t),p(this,g,r),p(this,y,o)}var n,t,r;return n=e,(t=[{key:"number",get:function(){return h(this,_)}},{key:"gifted",get:function(){return h(this,m)}},{key:"selected",get:function(){return h(this,g)}},{key:"opened",get:function(){return h(this,y)}},{key:"closed",get:function(){return!h(this,y)}},{key:"deselect",value:function(){return new e(this.number,this.gifted,!1,this.opened)}},{key:"alterSelection",value:function(){var n=!this.selected;return new e(this.number,this.gifted,n,this.opened)}},{key:"open",value:function(){return new e(this.number,this.gifted,this.selected,!0)}}])&&d(n.prototype,t),r&&d(n,r),e}();var k=t(2411),w=t.n(k),x=t(1664),j=t(1163);function N(){var e=(0,j.useRouter)(),n=(0,r.useState)(!1),t=n[0],o=n[1],i=(0,r.useState)([]),a=i[0],s=i[1];return(0,r.useEffect)((function(){var n=+e.query.doors,t=+e.query.gifted;o(n>=3&&n<=100&&(t>=1&&t<=n))}),[a,e.query.doors,e.query.gifted]),(0,r.useEffect)((function(){var n,t,r=+e.query.doors,o=+e.query.gifted;s((n=r,t=o,Array.from({length:n},(function(e,n){var r=n+1;return new b(r,r===t)}))))}),[null===e||void 0===e?void 0:e.query]),(0,u.jsxs)("div",{className:w().game,children:[(0,u.jsx)("div",{className:w().doors,children:t?a.map((function(e){return(0,u.jsx)(l,{value:e,onChange:function(e){return s(function(e,n){return e.map((function(e){return e.number===n.number?n:n.opened?e:e.deselect()}))}(a,e))}},e.number)})):(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"(404 NOT FOUND) - Press Restart Game"}),(0,u.jsx)("h2",{children:"- Check the value of doors or gift -"})]})}),(0,u.jsx)("div",{children:(0,u.jsx)(x.default,{href:"/",passHref:!0,children:(0,u.jsx)("button",{className:w().btn,children:"Restart Game"})})})]})}},9662:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[doors]/[gifted]",function(){return t(1972)}])},7424:function(e){e.exports={area:"Door_area__1MnQd",frame:"Door_frame__2HgLY",door:"Door_door__saFXu",numero:"Door_numero__3Glaj",knob:"Door_knob__p0AD0",ground:"Door_ground__23hft",selected:"Door_selected__afFul"}},2411:function(e){e.exports={game:"Game_game__JQqFz",doors:"Game_doors__3Adk5",btn:"Game_btn__fD4SD"}},5662:function(e){e.exports={gift:"Gift_gift__3g0pZ",top:"Gift_top__2e1BW",middle:"Gift_middle__22Qmk",line1:"Gift_line1__3U3O8",line2:"Gift_line2__ky6Q4"}},1664:function(e,n,t){e.exports=t(2167)},1163:function(e,n,t){e.exports=t(4651)}},function(e){e.O(0,[774,888,179],(function(){return n=9662,e(e.s=n);var n}));var n=e.O();_N_E=n}]);